knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(dplyr)
url1 = "https://github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url2 = "https://github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
chs_individual <- read_csv(url(url1))
chs_regional <- read_csv(url(url2))
View(chs_regional)
View(chs_individual)
chs_regional <- read.csv(url(url2))
library(readr)
library(tidyverse)
library(dplyr)
url1 = "https://github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url2 = "https://github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
chs_individual <- read.csv(url(url1))
chs_regional <- read.csv(url(url2))
View(chs_regional)
View(chs_regional)
chs_regional <- data.frame(url(url2))
chs_individual <- data.frame(url(url1))
chs_individual <- read_csv(url(url1))
url1 = "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url2 = "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
chs_individual <- read_csv(url(url1))
View(chs_individual)
url1 = read.table("https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv")
chs_individual <- data.table::fread(url1)
library(dtplyr)
install.packages("dtplyr")
library(dtplyr)
tmp <- "chs_individual.csv"
tmp2 <- "chs_regional.csv"
library(readr)
library(tidyverse)
library(dtplyr)
library(dplyr)
url1 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url2 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
tmp1 <- "chs_individual.csv"
tmp2 <- "chs_regional.csv"
rm(tmp)
library(readr)
library(tidyverse)
library(dtplyr)
library(dplyr)
url1 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url2 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
tmp1 <- "chs_individual.csv"
tmp2 <- "chs_regional.csv"
if(!file.exists(tmp1)){
download.file(
url_ind = url1,
destfile = tmp1
#method = "libcurl", timeout = 1000
)
}
download.file(
url = url1,
destfile = tmp1
#method = "libcurl", timeout = 1000
)
library(readr)
library(tidyverse)
library(dtplyr)
library(dplyr)
url1 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url2 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
tmp1 <- "chs_individual.csv"
tmp2 <- "chs_regional.csv"
if(!file.exists(tmp1)){
download.file(
url = url1,
destfile = tmp1
#method = "libcurl", timeout = 1000
)
}
library(readr)
library(tidyverse)
library(dtplyr)
library(dplyr)
#url1 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url1 <- "https://raw.githubusercontent.com/USCbiostats/data-science-data/master/01_chs/chs_individual.csv"
#url2 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_regional.csv"
tmp1 <- "chs_individual.csv"
tmp2 <- "chs_regional.csv"
if(!file.exists(tmp1)){
download.file(
url = url1,
destfile = tmp1
#method = "libcurl", timeout = 1000
)
}
chs_individual <- fread(tmp1)
library(readr)
library(tidyverse)
library(dtplyr)
library(dplyr)
#url1 <- "https://raw.github.com/USCbiostats/data-science-data/blob/master/01_chs/chs_individual.csv"
url1 <- "https://raw.githubusercontent.com/USCbiostats/data-science-data/master/01_chs/chs_individual.csv"
url1 <- "https://raw.githubusercontent.com/USCbiostats/data-science-data/master/01_chs/chs_regional.csv"
tmp1 <- "chs_individual.csv"
tmp2 <- "chs_regional.csv"
if(!file.exists(tmp1)){
download.file(
url = url1,
destfile = tmp1
#method = "libcurl", timeout = 1000
)
}
chs_individual <- fread(tmp1)
chs_individual <- data.table(tmp1)
chs_individual <- data.table::fread(tmp1)
View(chs_individual)
View(chs_individual)
chs_regional <- data.table::fread(tmp2)
if(!file.exists(tmp2)){
download.file(
url = url1,
destfile = tmp2
#method = "libcurl", timeout = 1000
)
}
chs_regional <- data.table::fread(tmp2)
View(chs_regional)
ind <- chs_individual
reg <- chs_regional
chs <- merge(ind, reg, by= townname)
chs <- merge(ind, reg, by= "townname"")
chs <- merge(ind, reg, by= "townname")
merge(x = ind,
y = reg,
by.x = "townname",
by.y = "townname",
all.x = TRUE,
all.y = TRUE
)
View(chs_regional)
View(ind)
merge(x = ind,
y = reg,
by.x = "townname",
by.y = "townname",
all.x = TRUE,
all.y = TRUE
) %>% nrow()
View(reg)
chs <- merge(x = ind,
y = reg,
by.x = "townname",
by.y = "townname",
all.x = TRUE,
all.y = TRUE
)
View(chs)
chs <- merge(x = ind,
y = reg,
by.x = "townname",
by.y = "townname",
all.x = TRUE,
all.y = TRUE
) %>% nrow()
chs %>% nrow()
nrow(chs)
chs <- merge(x = ind,
y = reg,
by.x = "townname",
by.y = "townname",
all.x = TRUE,
all.y = TRUE
)
nrow(chs)
chs2 <- ind %>%
full_join(reg, by = "townname")
View(chs2)
View(ind)
chs <- merge(x = ind,
y = reg,
by.x = "townname",
by.y = "townname",
all.x = TRUE,
all.y = TRUE
)
chs2 <- ind %>%
full_join(reg, by = "townname")
#1
nrow(chs)
#2
bmi_vector = 0
View(chs)
View(chs2)
#2
chs <-
chs %>%
mutate(obesity_level = cut(
bmi,
breaks = (0, 14, 22, 24, 100),
#2
chs <-
chs %>%
mutate(obesity_level = cut(
bmi,
breaks = (0, 14, 22, 24, 100),
#2
chs <-
chs %>%
mutate(obesity_level = cut(
bmi,
breaks = c(0,14, 22, 24, 100),
labels = c("underweight", "normal", "overweight", "obese")
)
)
chsdt <- lazy_dt(chs)
#2
chsdt <-
chsdt %>%
mutate(obesity_level = cut(
bmi,
breaks = c(0,14, 22, 24, 100),
labels = c("underweight", "normal", "overweight", "obese")
)
)
View(chs)
View(chsdt)
chsdt
chsdt
chsdt$obesity_level
chsdt2 <- lazy_dt(chs, immutable = FALSE)
View(chsdt2)
summary(chsdt[obesity_level])
summary(chs[obesity_level])
summary(chs$obesity_level)
summary(chs$bmi)
sumamry(chs$obesity_level)
summary(chs$obesity_level)
summary(chs$bmi)
summary(chs$obesity_level)
f
nrow(chs)
View(chsdt)
